<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
            http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">
    <bean id="gameState" class="com.gempukku.tcg.GameState">
        <property name="gameObjects">
            <util:map>
                <entry key="gameEventEngine" value-ref="gameEventEngine"/>
                <entry key="gameModifierEngine" value-ref="gameModifierEngine"/>
                <entry key="healthCounter" value-ref="healthCounter"/>
                <entry key="levelCounter" value-ref="levelCounter"/>
                <entry key="deck" value-ref="deckZone"/>
                <entry key="discard" value-ref="discardZone"/>
                <entry key="hand" value-ref="handZone"/>
                <entry key="play" value-ref="playZone"/>
                <entry key="playerTurn" value-ref="playerTurn"/>
                <entry key="playerOrder" value-ref="playerOrder"/>
                <entry key="turnEventCollector" value-ref="turnEventCollector"/>
                <entry key="decisionHolder" value-ref="decisionHolder"/>
                <entry key="turnPhase" value-ref="turnPhase"/>
                <entry key="gameObjectManager" value-ref="gameObjectManager"/>
            </util:map>
        </property>
    </bean>

    <bean id="gameProcessor" class="com.gempukku.tcg.solforge.SetupSolforgeGameGameProcessor">
        <property name="gameProcessor">
            <bean class="com.gempukku.tcg.generic.DecisionHolderBasedGameProcessor">
                <property name="decisionHolderPerPlayer" ref="decisionHolder"/>
                <property name="gameFlow" ref="gameFlow"/>
            </bean>
        </property>
    </bean>

    <bean id="gameFlow" class="com.gempukku.tcg.generic.GameActionStackFlow">
        <property name="gameActionStack" ref="gameActionStack"/>
    </bean>

    <bean id="gameObjectManager" class="com.gempukku.tcg.generic.object.GameObjectManager">
        <property name="zoneMoveChangesId" value="true"/>
    </bean>

    <bean id="gameActionStack" class="com.gempukku.tcg.generic.action.GameActionStack">
        <property name="rootGameAction" ref="rootGameAction"/>
    </bean>

    <bean id="rootGameAction" class="com.gempukku.tcg.solforge.SolforgeRootGameAction"/>

    <bean id="decisionHolder" class="com.gempukku.tcg.generic.decision.PerPlayerDecisionHolder"/>

    <bean id="deckZone" class="com.gempukku.tcg.generic.object.PerPlayerZone"/>
    <bean id="discardZone" class="com.gempukku.tcg.generic.object.PerPlayerZone"/>
    <bean id="handZone" class="com.gempukku.tcg.generic.object.PerPlayerZone"/>

    <bean id="playZone" class="com.gempukku.tcg.generic.object.Zone"/>

    <bean id="playerTurn" class="com.gempukku.tcg.generic.other.Property"/>
    <bean id="playerOrder" class="com.gempukku.tcg.generic.other.Property"/>

    <bean id="turnPhase" class="com.gempukku.tcg.generic.other.Property"/>

    <bean id="turnEventCollector" class="com.gempukku.tcg.generic.event.GameEventCollector">
        <property name="resetCondition">
            <bean class="com.gempukku.tcg.generic.event.condition.EventTypeCondition">
                <property name="type">
                    <util:constant static-field="com.gempukku.tcg.generic.event.type.GenericEventType.PLAYER_TURN_END"/>
                </property>
            </bean>
        </property>
    </bean>

    <bean id="gameEventEngine" class="com.gempukku.tcg.generic.event.GameEventEngine">
        <property name="gameEventListeners">
            <util:set>
                <ref bean="gameModifierEngine"/>
            </util:set>
        </property>
    </bean>

    <bean id="gameModifierEngine" class="com.gempukku.tcg.generic.modifier.GameModifierEngine">
        <property name="gameModifierMap">
            <util:map>

            </util:map>
        </property>
    </bean>

    <bean id="healthCounter" class="com.gempukku.tcg.generic.other.PerPlayerCounter">
        <property name="defaultValue" value="100"/>
    </bean>

    <bean id="levelCounter" class="com.gempukku.tcg.generic.other.PerPlayerCounter">
        <property name="defaultValue" value="1"/>
    </bean>
</beans>
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
            http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

    <import resource="solforge-cards-set1.xml"/>

    <bean id="conversionService"
          class="org.springframework.context.support.ConversionServiceFactoryBean">
        <property name="converters">
            <util:set>
                <bean class="com.gempukku.tcg.generic.spring.StringToStringEvaluatorConverter"/>
                <bean class="com.gempukku.tcg.generic.spring.StringToIntEvaluatorConverter"/>
            </util:set>
        </property>
    </bean>


    <bean id="selectionEffect" abstract="true" class="com.gempukku.tcg.solforge.effect.SolforgeMakeSelectionEffect">
        <property name="decisionHolder" value="decisionHolder"/>
        <property name="gameObjectManager" value="gameObjectManager"/>
        <property name="playersProperty" value="playerOrder"/>
        <property name="destinationProperty" value="target"/>
    </bean>

    <bean id="moveZonesEffect" abstract="true" class="com.gempukku.tcg.generic.effect.MoveZonesGameObjectEffect">
        <property name="gameObjectManager" value="gameObjectManager"/>
        <property name="gameEventEngine" value="gameEventEngine"/>
    </bean>

    <bean id="playCardAction" class="com.gempukku.tcg.generic.action.EffectsGameObjectActionPossibilitySource">
        <property name="textEvaluator">
            <bean class="com.gempukku.tcg.generic.evaluator.ConcatenateStringEvaluator">
                <property name="stringEvaluators">
                    <util:list>
                        <value>Play </value>
                        <bean class="com.gempukku.tcg.solforge.evaluator.CardNameEvaluator"/>
                    </util:list>
                </property>
            </bean>
        </property>
        <property name="effects">
            <util:list>
                <bean class="com.gempukku.tcg.generic.effect.ConditionalEffect">
                    <property name="gameObjectCondition">
                        <bean class="com.gempukku.tcg.solforge.condition.CardTypeCondition">
                            <property name="cardType" value="creature"/>
                        </bean>
                    </property>
                    <property name="effect">
                        <bean parent="selectionEffect">
                            <property name="destinationProperty" value="lane"/>
                            <property name="message" value="Choose lane to play creature to"/>
                            <property name="selectingPlayer" value="*{owner}"/>
                            <property name="laneFilter">
                                <bean class="com.gempukku.tcg.solforge.filter.AllLaneFilter"/>
                            </property>
                        </bean>
                    </property>
                </bean>
                <bean class="com.gempukku.tcg.generic.effect.SetCounterEffect">
                    <property name="counterName" value="passCounter"/>
                </bean>
                <bean parent="moveZonesEffect">
                    <property name="zoneFrom" value="hand"/>
                    <property name="playerZoneFrom" value="*{owner}"/>
                    <property name="zoneTo" value="stack"/>
                </bean>
                <bean class="com.gempukku.tcg.generic.effect.EmitEventEffect">
                    <property name="gameEventEngine" value="gameEventEngine"/>
                    <property name="eventSource">
                        <bean class="com.gempukku.tcg.solforge.play.PlayedCardEventSource"/>
                    </property>
                </bean>
            </util:list>
        </property>
    </bean>

    <bean id="resolveCreatureAction" class="com.gempukku.tcg.generic.action.EffectsGameObjectActionSource">
        <property name="effects">
            <util:list>
                <bean parent="destroyCreatureInLane"/>
                <bean class="com.gempukku.tcg.solforge.effect.CreateCreatureTokenInLaneEffect"/>
                <bean class="com.gempukku.tcg.generic.effect.IncrementObjectProperty">
                    <property name="name" value="level"/>
                    <property name="value" value="1"/>
                    <property name="max" value="3"/>
                </bean>
                <bean parent="moveZonesEffect">
                    <property name="zoneFrom" value="stack"/>
                    <property name="zoneTo" value="discard"/>
                    <property name="playerZoneTo" value="*{owner}"/>
                </bean>
            </util:list>
        </property>
    </bean>

    <bean id="default_card" abstract="true" class="com.gempukku.tcg.solforge.SimpleSolforgeCardBlueprint"/>

    <bean id="default_creature_level" abstract="true" class="com.gempukku.tcg.solforge.SimpleSolforgeCardLevelBlueprint">
        <property name="playCardActionSources">
            <util:list>
                <ref bean="playCardAction"/>
            </util:list>
        </property>
        <property name="resolveActionSource" ref="resolveCreatureAction"/>
        <property name="cardType" value="creature"/>
    </bean>

    <bean id="default_triggered_effect" abstract="true" class="com.gempukku.tcg.solforge.trigger.DefaultTriggeredEffect"/>

    <bean id="default_trigger" abstract="true" class="com.gempukku.tcg.solforge.trigger.SolforgeTrigger"/>

    <bean id="move1" class="com.gempukku.tcg.generic.keyword.AdditiveKeyword">
        <property name="name" value="move"/>
        <property name="value" value="1"/>
    </bean>

    <bean id="move2" class="com.gempukku.tcg.generic.keyword.AdditiveKeyword">
        <property name="name" value="move"/>
        <property name="value" value="2"/>
    </bean>

    <bean id="move3" class="com.gempukku.tcg.generic.keyword.AdditiveKeyword">
        <property name="name" value="move"/>
        <property name="value" value="3"/>
    </bean>

    <bean id="swiftness" class="com.gempukku.tcg.generic.keyword.Keyword">
        <property name="name" value="swiftness"/>
    </bean>

    <bean id="anyPlayer" class="com.gempukku.tcg.generic.filter.AnyPlayerFilter"/>

    <bean id="creature" class="com.gempukku.tcg.generic.filter.GameObjectPropertyFilter">
        <property name="property" value="cardType"/>
        <property name="value" value="creature"/>
    </bean>

    <bean id="damageToTargetEffect" abstract="true" class="com.gempukku.tcg.solforge.effect.DealDamageToTargetEffect">
        <property name="targetProperty" value="target"/>
    </bean>

    <bean id="removeResolvedTrigger" class="com.gempukku.tcg.generic.effect.RemoveGameObjectEffect">
        <property name="gameObjectManager" value="gameObjectManager"/>
        <property name="zone" value="stack"/>
    </bean>

</beans>
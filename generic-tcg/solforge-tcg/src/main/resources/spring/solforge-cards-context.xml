<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
            http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

    <import resource="solforge-cards-set1.xml"/>

    <bean id="constantStringConverter" class="com.gempukku.tcg.generic.spring.StringToStringEvaluatorConverterFactory"/>

    <bean id="selection" abstract="true" class="com.gempukku.tcg.solforge.effect.SolforgeMakeSelectionEffect">
        <property name="decisionHolder" value="decisionHolder"/>
        <property name="gameObjectManager" value="gameObjectManager"/>
        <property name="playersProperty" value="playerOrder"/>
    </bean>

    <bean id="moveZones" abstract="true" class="com.gempukku.tcg.generic.effect.MoveZonesGameObjectEffect">
        <property name="gameObjectManager" value="gameObjectManager"/>
        <property name="gameEventEngine" value="gameEventEngine"/>
    </bean>

    <bean id="playCardAction" class="com.gempukku.tcg.generic.action.EffectsGameObjectActionPossibilitySource">
        <property name="textEvaluator">
            <bean class="com.gempukku.tcg.generic.evaluator.ConcatenateStringEvaluator">
                <property name="stringEvaluators">
                    <util:list>
                        <bean class="com.gempukku.tcg.generic.evaluator.ConstantStringEvaluator">
                            <property name="value" value="Play "/>
                        </bean>
                        <bean class="com.gempukku.tcg.solforge.evaluator.CardNameEvaluator"/>
                    </util:list>
                </property>
            </bean>
        </property>
        <property name="effects">
            <util:list>
                <bean class="com.gempukku.tcg.generic.effect.ConditionalEffect">
                    <property name="gameObjectCondition">
                        <bean class="com.gempukku.tcg.solforge.condition.CardTypeCondition">
                            <property name="cardType" value="creature"/>
                        </bean>
                    </property>
                    <property name="effect">
                        <bean parent="selection">
                            <property name="destinationProperty" value="lane"/>
                            <!--<property name="message" value="Choose lane to play creature to"/>-->
                            <property name="message">
                                <bean class="com.gempukku.tcg.generic.evaluator.ConstantStringEvaluator">
                                    <property name="value" value="Choose lane to play creature to"/>
                                </bean>
                            </property>
                            <property name="selectingPlayer" value="*{owner}"/>
                            <property name="laneFilter">
                                <bean class="com.gempukku.tcg.solforge.filter.AllLaneFilter"/>
                            </property>
                        </bean>
                    </property>
                </bean>
                <bean class="com.gempukku.tcg.generic.effect.SetCounterEffect">
                    <property name="counterName" value="passCounter"/>
                </bean>
                <bean parent="moveZones">
                    <property name="zoneFrom" value="hand"/>
                    <property name="playerZoneFrom" value="*{owner}"/>
                    <property name="zoneTo" value="stack"/>
                </bean>
                <bean class="com.gempukku.tcg.generic.effect.EmitEventEffect">
                    <property name="gameEventEngine" value="gameEventEngine"/>
                    <property name="eventSource">
                        <bean class="com.gempukku.tcg.solforge.play.PlayedCardEventSource"/>
                    </property>
                </bean>
            </util:list>
        </property>
    </bean>

    <bean id="resolveCardAction" class="com.gempukku.tcg.generic.action.EffectsGameObjectActionSource">
        <property name="effects">
            <util:list>
                <bean class="com.gempukku.tcg.solforge.effect.CreateObjectFromGameObjectEffect">
                    <property name="gameObjectManager" value="gameObjectManager"/>
                    <property name="zoneTo" value="play"/>
                    <property name="extraProperties">
                        <util:map>
                            <entry key="type" value="token"/>
                            <entry key="offensive" value="false"/>
                            <entry key="damage" value="0"/>
                        </util:map>
                    </property>
                </bean>
                <bean class="com.gempukku.tcg.generic.effect.IncrementObjectProperty">
                    <property name="name" value="level"/>
                    <property name="value" value="1"/>
                    <property name="max" value="3"/>
                </bean>
                <bean parent="moveZones">
                    <property name="zoneFrom" value="stack"/>
                    <property name="zoneTo" value="discard"/>
                    <property name="playerZoneTo" value="*{owner}"/>
                </bean>
            </util:list>
        </property>
    </bean>

    <bean id="default_card" class="com.gempukku.tcg.solforge.SimpleSolforgeCardBlueprint"/>

    <bean id="default_card_level" class="com.gempukku.tcg.solforge.SimpleSolforgeCardLevelBlueprint">
        <property name="playCardActionSources">
            <util:list>
                <ref bean="playCardAction"/>
            </util:list>
        </property>
        <property name="resolveActionSource" ref="resolveCardAction"/>
    </bean>

    <bean id="card_1" parent="default_card">
        <property name="name" value="Air Spirit"/>
        <property name="level1">
            <bean parent="default_card_level">
                <property name="cardType" value="creature"/>
                <property name="keywords">
                    <util:list>
                        <ref bean="move1"/>
                    </util:list>
                </property>
                <property name="attack" value="6"/>
                <property name="health" value="4"/>
            </bean>
        </property>
        <property name="level2">
            <bean parent="default_card_level">
                <property name="cardType" value="creature"/>
                <property name="keywords">
                    <util:list>
                        <ref bean="move2"/>
                    </util:list>
                </property>
                <property name="attack" value="10"/>
                <property name="health" value="8"/>
            </bean>
        </property>
        <property name="level3">
            <bean parent="default_card_level">
                <property name="cardType" value="creature"/>
                <property name="keywords">
                    <util:list>
                        <ref bean="move3"/>
                    </util:list>
                </property>
                <property name="attack" value="16"/>
                <property name="health" value="14"/>
            </bean>
        </property>
    </bean>

    <bean id="move1" class="com.gempukku.tcg.generic.keyword.AdditiveKeyword">
        <property name="name" value="move"/>
        <property name="value" value="1"/>
    </bean>

    <bean id="move2" class="com.gempukku.tcg.generic.keyword.AdditiveKeyword">
        <property name="name" value="move"/>
        <property name="value" value="2"/>
    </bean>

    <bean id="move3" class="com.gempukku.tcg.generic.keyword.AdditiveKeyword">
        <property name="name" value="move"/>
        <property name="value" value="3"/>
    </bean>

</beans>